package org.example;

import org.json.JSONObject;

public class Main {
    public static void main(String[] args) {
        try {
            SocketClient client = new SocketClient();

            // URL y credenciales de prueba
            String url = "http://socket-handle-tests.amaditaplayground.com:30008";
            String username = "employees.consultor";
            String password = "gVh6#1TSyPt2";

            // Conectar
            client.connect(url, username, password);

            // Crear el payload de prueba
            JSONObject payload = SocketClient.crearPayloadDemo();

            // Enviar orden
            client.sendOrder(payload);

            // Esperar un poco para ver la respuesta (no necesario en Mirth)
            Thread.sleep(5000);

            // Desconectar
            client.disconnect();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
