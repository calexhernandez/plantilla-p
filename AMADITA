var Patient1stLastName = msg['Patient1stLastName'];
var Patient2ndLastName = msg['Patient2ndLastName'];
var PatientName = msg['PatientName'];

logger.info(PatientName);
var Cedula = msg['Cedula'];
var NumberRFC = msg['NumberRFC'];
var DateBirth = msg['DateBirth'];
var Sex = msg['Sex'];
var eMail = msg['eMail'];
var TelMovil = msg['TelMovil'];
var Relation = msg['Relation'];
var Employer = msg['Employer'];

// Account Details
var PostalAddress1 = msg['Account']['PostalAddress1'];
var PostalAddress2 = msg['Account']['PostalAddress2'];
var PostalCity = msg['Account']['PostalCity'];
var PostalState = msg['Account']['PostalState'];
var PostalZipCode = msg['Account']['PostalZipCode'];
var PostalCountry = msg['Account']['PostalCountry'];
var PhysicalAddress1 = msg['Account']['PhysicalAddress1'];
var PhysicalAddress2 = msg['Account']['PhysicalAddress2'];
var PhysicalCity = msg['Account']['PhysicalCity'];
var PhysicalState = msg['Account']['PhysicalState'];
var PhysicalZipCode = msg['Account']['PhysicalZipCode'];
var PhysicalCountry = msg['Account']['PhysicalCountry'];

// Billing Information
var Billing1stLastName = msg['Account']['Billing1stLastName'];
var Billing2ndLastName = msg['Account']['Billing2ndLastName'];
var BillingName = msg['Account']['BillingName'];
var BillingInitial = msg['Account']['BillingInitial'];
var BillingAddress1 = msg['Account']['BillingAddress1'];
var BillingAddress2 = msg['Account']['BillingAddress2'];
var BillingCity = msg['Account']['BillingCity'];
var BillingState = msg['Account']['BillingState'];
var BillingZipCode = msg['Account']['BillingZipCode'];
var BillingCountry = msg['Account']['BillingCountry'];
var TelBusiness = msg['Account']['TelBusiness'];
var TelHome = msg['Account']['TelHome'];

// Insurance Details
var InsCompanyNo = msg['PatientIns']['InsCompanyNo'];
var InsPolicyNo = msg['PatientIns']['InsPolicyNo'];
var InsPolicyType = msg['PatientIns']['InsPolicyType'];
var InsPolicyGroup = msg['PatientIns']['InsPolicyGroup'];
var DateExpedition = msg['PatientIns']['DateExpedition'];
var DateExpiration = msg['PatientIns']['DateExpiration'];

// Requisition Details
var AccountNumber = msg['RequisitionDetails']['AccountNumber'];
var PatientNumber = msg['RequisitionDetails']['PatientNumber'];
var RequisitionDate = msg['RequisitionDetails']['RequisitionDate'];
var RequisitionTime = msg['RequisitionDetails']['RequisitionTime'];
var RefDoctorNumber = msg['RequisitionDetails']['RefDoctorNumber'];
var ServiceReason = msg['RequisitionDetails']['ServiceReason'];
var ServicePlace = msg['RequisitionDetails']['ServicePlace'];
var ServiceType = msg['RequisitionDetails']['ServiceType'];
var Employeer = msg['RequisitionDetails']['Employeer'];
var LocationID = msg['RequisitionDetails']['LocationID'];

// ICD Codes
var ICDCode01 = msg['RequisitionDetails']['ICDCodes']['ICDCode01'];



channelMap.put("Patient1stLastName",Patient1stLastName);
channelMap.put("Patient2ndLastName",Patient2ndLastName);


// Procedure Details


var LineNumber = [];
	
for(var i=0; i < getArrayOrXmlLength(msg['RequisitionDetails']['Procedures']); i++){

	LineNumber.push(msg['RequisitionDetails']['Procedures'][i]['LineNumber']);
	var ProcNumber = msg['RequisitionDetails']['Procedures'][i]['ProcNumber'];
	var QtyProcedures = msg['RequisitionDetails']['Procedures'][i]['QtyProcedures'];
	var InvoiceCodeINT = msg['RequisitionDetails']['Procedures'][i]['InvoiceCodeINT'];
	var Amount = msg['RequisitionDetails']['Procedures'][i]['Amount'];
	var AmountIns = msg['RequisitionDetails']['Procedures'][i]['AmountIns'];
	var AmountPat = msg['RequisitionDetails']['Procedures'][i]['AmountPat'];
	var AdditionalCharge = msg['RequisitionDetails']['Procedures'][i]['AdditionalCharge'];
	var Priority = msg['RequisitionDetails']['Procedures'][i]['Priority'];

	logger.info("indice " + i + "ProcNum " + ProcNumber);


}


